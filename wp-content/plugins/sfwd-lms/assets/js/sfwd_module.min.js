function toggleVisibility(e){var s=document.getElementById(e);"block"==s.style.display?s.style.display="none":s.style.display="block"}function countChars(e,s){s.value=e.value.length}function sfwd_do_condshow_match(e,s){return"undefined"!=typeof s?(matches=!0,jQuery.each(s,function(e,s){return cur=jQuery("[name="+e+"]"),type=cur.attr("type"),("checkbox"==type||"radio"==type)&&(cur=jQuery("input[name="+e+"]:checked")),cur=cur.val(),cur!=s?(matches=!1,!1):void 0}),matches?jQuery("#"+e).show():jQuery("#"+e).hide(),matches):!1}function sfwd_add_condshow_handlers(e,s){"undefined"!=typeof s&&jQuery.each(s,function(n){jQuery("[name="+n+"]").change(function(){sfwd_do_condshow_match(e,s)})})}function sfwd_do_condshow(){"undefined"!=typeof sfwd_data.condshow&&jQuery.each(sfwd_data.condshow,function(e,s){sfwd_do_condshow_match(e,s),sfwd_add_condshow_handlers(e,s)})}function sfwd_show_pointer(e,s){"undefined"!=typeof jQuery(s.pointer_target).pointer&&jQuery(s.pointer_target).pointer({content:s.pointer_text,close:function(){jQuery.post(ajaxurl,{pointer:e,action:"dismiss-wp-pointer"})}}).pointer("open")}function store_radio(){var e={};jQuery('input[type="radio"]').each(function(){jQuery(this).is(":checked")&&(e[jQuery(this).attr("name")]=jQuery(this).val()),jQuery(document).data("radioshack",e)})}function reclick_radio(){var e=jQuery(document).data("radioshack");for(key in e)jQuery('input[name="'+key+'"]').filter('[value="'+e[key]+'"]').trigger("click");jQuery(".wrap").unbind("mouseup")}function learndash_lesson_edit_page_javascript(){jQuery("[name='sfwd-lessons_lesson_assignment_points_enabled']").change(function(){checked=jQuery("[name=sfwd-lessons_lesson_assignment_points_enabled]:checked").length,checked?jQuery("#sfwd-lessons_lesson_assignment_points_amount").show():(jQuery("#sfwd-lessons_lesson_assignment_points_amount").hide(),jQuery("[name='sfwd-lessons_lesson_assignment_points_amount']").val("0"))}),jQuery("[name='sfwd-lessons_lesson_assignment_points_enabled']").length&&jQuery("[name='sfwd-lessons_lesson_assignment_points_enabled']").change(),jQuery("[name='sfwd-lessons_lesson_assignment_upload']").change(function(){checked=jQuery("[name=sfwd-lessons_lesson_assignment_upload]:checked").length,checked?(jQuery("#sfwd-lessons_auto_approve_assignment").show(),jQuery("#sfwd-lessons_lesson_assignment_points_enabled").show(),jQuery("[name='sfwd-lessons_lesson_assignment_points_enabled']").change()):(jQuery("#sfwd-lessons_auto_approve_assignment").hide(),jQuery("#sfwd-lessons_lesson_assignment_points_enabled").hide(),jQuery("[name='sfwd-lessons_lesson_assignment_points_enabled']").change())}),jQuery("[name='sfwd-lessons_lesson_assignment_upload']").length&&jQuery("[name='sfwd-lessons_lesson_assignment_upload']").change(),load_datepicker()}function load_datepicker(){jQuery(document).on("DOMNodeInserted",function(e){"ui-datepicker-div"==e.target.id&&jQuery("#ui-datepicker-div").addClass("learndash-datepicker")}),jQuery("input[name='sfwd-lessons_visible_after_specific_date']").datepicker({changeMonth:!0,changeYear:!0,dateFormat:"MM d, yy",onSelect:function(){jQuery("input[name='sfwd-lessons_visible_after']").val("0"),jQuery("input[name='sfwd-lessons_visible_after']").prop("disabled",!0)}}),jQuery("input[name='sfwd-lessons_visible_after_specific_date']").blur(function(){var e=jQuery("input[name='sfwd-lessons_visible_after_specific_date']").val();""!=e?(jQuery("input[name='sfwd-lessons_visible_after']").val("0"),jQuery("input[name='sfwd-lessons_visible_after']").attr("disabled","disabled")):jQuery("input[name='sfwd-lessons_visible_after']").removeAttr("disabled")}),jQuery("input[name='sfwd-lessons_visible_after']").click(function(){var e=jQuery("input[name='sfwd-lessons_visible_after_specific_date']").val();""!=e?(jQuery("input[name='sfwd-lessons_visible_after']").val("0"),jQuery("input[name='sfwd-lessons_visible_after']").attr("disabled","disabled")):jQuery("input[name='sfwd-lessons_visible_after']").removeAttr("disabled")})}function learndash_course_edit_page_javascript(){jQuery("select[name=sfwd-courses_course_price_type]").change(function(){var e=jQuery("select[name=sfwd-courses_course_price_type]").val();"open"==e||"free"==e?(jQuery("input[name=sfwd-courses_course_price]").val(""),jQuery("#sfwd-courses_course_price").hide()):jQuery("#sfwd-courses_course_price").show(),"closed"==e?jQuery("#sfwd-courses_custom_button_url").show():jQuery("#sfwd-courses_custom_button_url").hide(),"subscribe"==e?jQuery("#sfwd-courses_course_price_billing_cycle").show():jQuery("#sfwd-courses_course_price_billing_cycle").hide()}),jQuery("select[name=sfwd-courses_course_price_type]").change(),jQuery("input[name=sfwd-courses_expire_access]").change(function(){void 0==jQuery("input[name=sfwd-courses_expire_access]:checked").val()?(jQuery("#sfwd-courses_expire_access_days").hide(),jQuery("#sfwd-courses_expire_access_delete_progress").hide()):(jQuery("#sfwd-courses_expire_access_days").show(),jQuery("#sfwd-courses_expire_access_delete_progress").show())}),jQuery("input[name=sfwd-courses_expire_access]").change()}function learndash_quiz_edit_page_javascript(){jQuery("select[name=sfwd-quiz_quiz_pro]").change(function(){var e=jQuery("select[name=sfwd-quiz_quiz_pro]").val();if(window["sfwd-quiz_quiz_pro"]!=e){var s=jQuery("#sfwd-quiz_quiz_pro_html").html();s.length>10&&(window["sfwd-quiz_quiz_pro_html"]=s),jQuery("#sfwd-quiz_quiz_pro_html").hide(),jQuery("input[name=disable_advance_quiz_save]").val(1)}else jQuery("#sfwd-quiz_quiz_pro_html").show(),jQuery("input[name=disable_advance_quiz_save]").val(0);e>0?jQuery("#advanced_quiz_preview").attr("href",sfwd_data.advanced_quiz_preview_link+e):jQuery("#advanced_quiz_preview").attr("href","#"),jQuery.fn.wpProQuiz_preview()});jQuery("select[name=sfwd-quiz_quiz_pro]").val();window["sfwd-quiz_quiz_pro"]=sfwd_data.quiz_pro,jQuery("form#post").append("<div id='disable_advance_quiz_save'><input type='hidden' name='disable_advance_quiz_save' value='0'/></div>"),jQuery("select[name=sfwd-quiz_quiz_pro]").change(),jQuery("select[name=sfwd-quiz_course]").change(function(){void 0==window.sfwd_quiz_lesson&&(window.sfwd_quiz_lesson=jQuery("select[name=sfwd-quiz_lesson]").val()),jQuery("select[name=sfwd-quiz_lesson]").html("<option>"+sfwd_data.loading_lang+"</option>");var e={action:"select_a_lesson_or_topic",course_id:jQuery(this).val()};jQuery.post(ajaxurl,e,function(e){window.response=e,html='<option value="0">'+sfwd_data.select_a_lesson_or_topic_lang+"</option>",jQuery.each(e.opt,function(e,s){""!=s.key&&"0"!=s.key&&(selected=s.key==window.sfwd_quiz_lesson?"selected=selected":"",html+="<option value='"+s.key+"' "+selected+">"+s.value+"</option>")}),jQuery("select[name=sfwd-quiz_lesson]").html(html)},"json")}),jQuery("#postimagediv").addClass("hidden_by_sfwd_lms_sfwd_module.js"),jQuery("#postimagediv").hide()}function learndash_topic_edit_page_javascript(){jQuery('[name="sfwd-topic_lesson_assignment_upload"]').change(function(){checked=jQuery("[name=sfwd-topic_lesson_assignment_upload]:checked").length,checked?(jQuery("#sfwd-topic_auto_approve_assignment").show(),jQuery("#sfwd-topic_lesson_assignment_points_enabled").show()):(jQuery("#sfwd-topic_auto_approve_assignment").hide(),jQuery("#sfwd-topic_lesson_assignment_points_enabled").hide(),jQuery("[name='sfwd-topic_lesson_assignment_points_enabled']").prop("checked",!1),jQuery("[name='sfwd-topic_lesson_assignment_points_enabled']").change())}),jQuery("[name='sfwd-topic_lesson_assignment_upload']").length&&jQuery("[name='sfwd-topic_lesson_assignment_upload']").change(),jQuery('[name="sfwd-topic_lesson_assignment_points_enabled"]').change(function(){checked=jQuery("[name=sfwd-topic_lesson_assignment_points_enabled]:checked").length,checked?jQuery("#sfwd-topic_lesson_assignment_points_amount").show():(jQuery("#sfwd-topic_lesson_assignment_points_amount").hide(),jQuery("[name='sfwd-topic_lesson_assignment_points_amount']").val("0"))}),jQuery("[name='sfwd-topic_lesson_assignment_points_enabled']").length&&jQuery("[name='sfwd-topic_lesson_assignment_points_enabled']").change(),jQuery("select[name=sfwd-topic_course]").change(function(){void 0==window.sfwd_topic_lesson&&(window.sfwd_topic_lesson=jQuery("select[name=sfwd-topic_lesson]").val()),jQuery("select[name=sfwd-topic_lesson]").html("<option>"+sfwd_data.loading_lang+"</option>");var e={action:"select_a_lesson",course_id:jQuery(this).val()};jQuery.post(ajaxurl,e,function(e){window.response=e,html='<option value="0">'+sfwd_data.select_a_lesson_lang+"</option>",jQuery.each(e,function(e,s){""!=e&&"0"!=e&&(selected=e==window.sfwd_topic_lesson?"selected=selected":"",html+="<option value='"+e+"' "+selected+">"+s+"</option>")}),jQuery("select[name=sfwd-topic_lesson]").html(html)},"json")})}function flip_expand_collapse(e,s){return jQuery(e+"-"+s+" .list_arrow.flippable").hasClass("expand")?(jQuery(e+"-"+s+" .list_arrow.flippable").removeClass("expand"),jQuery(e+"-"+s+" .list_arrow.flippable").addClass("collapse"),jQuery(e+"-"+s+" .flip").slideUp()):(jQuery(e+"-"+s+" .list_arrow.flippable").removeClass("collapse"),jQuery(e+"-"+s+" .list_arrow.flippable").addClass("expand"),jQuery(e+"-"+s+" .flip").slideDown()),!1}function flip_expand_all(e){return jQuery(e+" .list_arrow.flippable").removeClass("collapse"),jQuery(e+" .list_arrow.flippable").addClass("expand"),jQuery(e+" .flip").slideDown(),!1}function flip_collapse_all(e){return jQuery(e+" .list_arrow.flippable").removeClass("expand"),jQuery(e+" .list_arrow.flippable").addClass("collapse"),jQuery(e+" .flip").slideUp(),!1}"undefined"!=typeof sfwd_data.json&&(sfwd_data=sfwd_data.json.replace(/&quot;/g,'"'),sfwd_data=jQuery.parseJSON(sfwd_data)),jQuery(".sfwd_datepicker").each(function(){jQuery("#"+jQuery(this).attr("id")).datepicker()}),jQuery(document).ready(function(){"undefined"!=typeof sfwd_data&&"undefined"!=typeof sfwd_data.condshow&&sfwd_do_condshow(sfwd_data.condshow)}),jQuery(document).ready(function(){var e;jQuery(".sfwd_upload_image_button").click(function(){return window.send_to_editor=newSendToEditor,e=jQuery(this).next(),formfield=e.attr("name"),tb_show("","media-upload.php?type=image&amp;TB_iframe=true"),!1}),storeSendToEditor=window.send_to_editor,newSendToEditor=function(s){imgurl=jQuery("img",s).attr("src"),e.val(imgurl),tb_remove(),window.send_to_editor=storeSendToEditor}}),jQuery(document).ready(function(){jQuery(".hndle").mousedown(function(){jQuery(".wrap").mouseup(function(){store_radio(),setTimeout("reclick_radio();",50)})})}),jQuery(document).ready(function(){"undefined"!=typeof sfwd_data.pointers&&jQuery.each(sfwd_data.pointers,function(e,s){"undefined"!=s&&""!=s.pointer_text&&sfwd_show_pointer(e,s)}),jQuery(".sfwd_tab:not(:first)").hide(),jQuery(".sfwd_tab:first").show(),jQuery(".sfwd_header_tabs a").click(function(){return stringref=jQuery(this).attr("href").split("#")[1],jQuery(".sfwd_tab:not(#"+stringref+")").hide(),jQuery(".sfwd_tab#"+stringref).show(),jQuery(".sfwd_header_tab[href!=#"+stringref+"]").removeClass("active"),jQuery(".sfwd_header_tab#[href=#"+stringref+"]").addClass("active"),!1}),jQuery("body.post-type-sfwd-courses #categorydiv > h3 > span, body.post-type-sfwd-lessons #categorydiv > h3 > span, body.post-type-sfwd-topic #categorydiv > h3 > span, body.post-type-sfwd-courses #categorydiv > h3 > span").html(sfwd_data.learndash_categories_lang),jQuery(".sfwd-lessons_settings").length&&learndash_lesson_edit_page_javascript(),jQuery(".sfwd-courses_settings").length&&learndash_course_edit_page_javascript(),jQuery(".sfwd-topic_settings").length&&learndash_topic_edit_page_javascript(),jQuery(".sfwd-quiz_settings").length&&learndash_quiz_edit_page_javascript()});